#include "LinkList.h"

LinkList *CreateList_L(int n) {
//????????????????n???????
//??????????????????L
LinkList *L,*p; int i;
int value[10]={2,3,4,5,6,7,8,9,10,11};

//?????????????????????
L = (LinkList *)malloc(sizeof(LNode));
L->next = NULL;
for (i=n; i>0; --i) {
  p = (LinkList *)malloc(sizeof(LNode)); // ????????
  p->data = value[n-i];
  // p->data =random(200);//??????????200?????????
  p->next = L->next;
  L->next = p;  // ???????
 }
return L;
} // CreateList_L

Status ListInsert_L(LinkList *L, int i, ElemType e) {
//?????????????L???i??????????????e
LinkList *p, *s;
p = L; int j = 0;
while (p && j < i-1) {// ????i-1?????
	p = p->next; ++j; }
// i§³??1(????j>i-1????)??????????(????p?NULL)
if (!p || j > i-1) return ERROR;
s = (LinkList *)malloc(sizeof(LNode)); // ????????
s->data = e; s->next = p->next; // ????L??
p->next = s;
return OK;
} // LinstInsert_L

Status ListDelete_L(LinkList *L, int i, ElemType *e) {
//?????????????L???????i??????????e???????
LinkList *p,*q;
p = L; int j = 0;
while (p->next && j < i-1) {
	// ????i?????????p????????
	p = p->next; ++j;
	}
// i§³??1(????j>i-1????)??????????(????p->next?NULL)
if (!(p->next) || j > i-1) return ERROR;
q = p->next; p->next = q->next; // ??????????
*e = q->data; free(q); return OK;
} // ListDelete_L


Status GetElem_L(LinkList *L,int i, ElemType *e) {
// L???????????????????
// ????i??????????????????e??????OK???????ERROR
// ???????p??????????j???????
LinkList *p;
 p = L->next; int j = 1;
while (p && j<i) {
      //??????????????p????i??????p???
      p = p->next; ++j; }
if ( !p || j>i ) return ERROR; // ??i??????????
*e = p->data; // ???i?????
return OK;
} // GetElem_L

// ?????? ??????? ?????? ????
LinkList *MergeList_L(LinkList *La, LinkList *Lb) {
//??? ?????????????La??Lb????????????Lc??Lc??????????????????
LinkList *Lc, *pa, *pb, *pc; //pa, pb????????????????pc?????????????????????
pa = La->next; pb = Lb->next;
Lc = pc = La; // ??La?????????Lc??????
while (pa && pb) {
  if (pa->data >= pb->data) {
	 pc->next = pa; pc = pa; pa = pa->next; }
  else { pc->next = pb; pc = pb; pb = pb->next; } }
pc->next = pa ? pa : pb; // ????????
free(Lb); // ???Lb??????
return Lc;
} // MergeList_L
